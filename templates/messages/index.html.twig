{% extends 'base.html.twig' %}

{% block title %}Messagerie:{% endblock %}

{% block body %}
    <section class="container">
	<div class="row">
			<div class="col-12">
           	<h1>Boîte de réception</h1>
				<p>Vous avez reçu {{ app.user.received|length }} nouveaux messages</p>
			</div>

			<div class="col-3">De</div>
			<div class="col-3">Sujet</div>
			<div class="col-3">Date</div>
			<div class="col-3">Actions</div>
				
				  {%  for message in app.user.received %}
				{% set bold = "" %}
				{% if message.isRead == 0 %}
					{% set bold = "fw-bold" %}
				{% endif %}

         <div class="col-3 {{bold}}">{{ message.sender.email }}</div>
				<div class="col-3 {{bold}}">
					<a href="{{ path("read", {id: message.id}) }}">{{ message.title }}</a>
				</div>
				<div class="col-3 {{bold}}">{{ message.createdAt|date }}</div>
				<div class="col-3">
                    <a href="{{ path("delete", {id: message.id}) }}">
                      supprimer
                    </a>
				</div>
            {% endfor %}
				
                
				
               
			</div>
		</div>
	</section>

	
{% endblock %}
